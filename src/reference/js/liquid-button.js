$(function(){var e=[],t=[],o=null,i=null,s=null,h=8,u=!1;function r(o,i){e.push(new a(o,i,1)),t.push(new a(o,i,2))}function a(e,t,o){this.x=this.ix=50+e,this.y=this.iy=50+t,this.vx=0,this.vy=0,this.cx1=0,this.cy1=0,this.cx2=0,this.cy2=0,this.level=o}function l(){rafID=requestAnimationFrame(l),s.clearRect(0,0,o.width(),o.height()),s.fillStyle="transparent",s.fillRect(0,0,o.width(),o.height());for(var i=0;i<=e.length-1;i++)e[i].move(),t[i].move();var h=Math.min(Math.max(mouseX-o.offset().left,0),o.width()),r=Math.min(Math.max(mouseY-o.offset().top,0),o.height()),a=Math.sqrt(Math.pow(h-o.width()/2,2)+Math.pow(r-o.height()/2,2))/Math.sqrt(Math.pow(o.width()/2,2)+Math.pow(o.height()/2,2)),n=s.createRadialGradient(h,r,300+300*a,h,r,0);n.addColorStop(0,"#8451ec"),n.addColorStop(1,"#ea0345");for(var m=[e,t],c=0;c<=1;c++){var y=m[c];s.fillStyle=0==c?"#1CE2D8":n,s.beginPath(),s.moveTo(y[0].x,y[0].y);for(i=0;i<y.length;i++){var x=y[i],f=y[i+1];null!=f?(x.cx1=(x.x+f.x)/2,x.cy1=(x.y+f.y)/2,x.cx2=(x.x+f.x)/2,x.cy2=(x.y+f.y)/2,s.bezierCurveTo(x.x,x.y,x.cx1,x.cy1,x.cx1,x.cy1)):(f=y[0],x.cx1=(x.x+f.x)/2,x.cy1=(x.y+f.y)/2,s.bezierCurveTo(x.x,x.y,x.cx1,x.cy1,x.cx1,x.cy1))}s.fill()}if(u){s.fillStyle="#000",s.beginPath();for(i=0;i<e.length;i++){x=e[i];s.rect(x.x-1,x.y-1,2,2)}s.fill(),s.fillStyle="#f00",s.beginPath();for(i=0;i<e.length;i++){x=e[i];s.rect(x.cx1-1,x.cy1-1,2,2),s.rect(x.cx2-1,x.cy2-1,2,2)}s.fill()}}mouseX=0,mouseY=0,relMouseX=0,relMouseY=0,mouseLastX=0,mouseLastY=0,mouseDirectionX=0,mouseDirectionY=0,mouseSpeedX=0,mouseSpeedY=0,$(document).on("mousemove",function(e){mouseX<e.pageX?mouseDirectionX=1:mouseX>e.pageX?mouseDirectionX=-1:mouseDirectionX=0,mouseY<e.pageY?mouseDirectionY=1:mouseY>e.pageY?mouseDirectionY=-1:mouseDirectionY=0,mouseX=e.pageX,mouseY=e.pageY,relMouseX=mouseX-o.offset().left,relMouseY=mouseY-o.offset().top}),function e(){mouseSpeedX=mouseX-mouseLastX,mouseSpeedY=mouseY-mouseLastY,mouseLastX=mouseX,mouseLastY=mouseY,setTimeout(e,50)}(),a.prototype.move=function(){this.vx+=(this.ix-this.x)/(20*this.level),this.vy+=(this.iy-this.y)/(20*this.level);var e=this.ix-relMouseX,t=this.iy-relMouseY,o=1-Math.sqrt(e*e+t*t)/70;(mouseDirectionX>0&&relMouseX>this.x||mouseDirectionX<0&&relMouseX<this.x)&&o>0&&o<1&&(this.vx=mouseSpeedX/4*o),this.vx*=.95,this.x+=this.vx,(mouseDirectionY>0&&relMouseY>this.y||mouseDirectionY<0&&relMouseY<this.y)&&o>0&&o<1&&(this.vy=mouseSpeedY/4*o),this.vy*=.95,this.y+=this.vy},function(){var e=$(".btn-liquid"),t=e.width(),u=e.height();o=$("<canvas></canvas>"),e.append(o),(i=o.get(0)).width=t+100,i.height=u+100,s=i.getContext("2d");for(var a=u/2,n=1;n<h;n++)r(a+(t-u)/h*n,0);for(r(t-u/5,0),r(t+u/10,u/2),r(t-u/5,u),n=h-1;n>0;n--)r(a+(t-u)/h*n,u);r(u/5,u),r(-u/10,u/2),r(u/5,0),l()}()});